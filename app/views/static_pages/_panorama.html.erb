<div id="waveform"></div>
<div id="photosphere"></div>
<script src="//cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.3.7/wavesurfer.min.js"></script>
<script>
  soundManager.setup({
    preferFlash: false,
    onready: function() {
      soundManager.createSound({
        id: 'as_you_found_me',
        url: '<%= asset_url("as_you_found_me.mp3") %>',
        autoLoad: true,
        autoPlay: false,
        volume: 50
      });
    }
  });

  var memoryApplication = new MemoryApplication(<%= @memory_json.to_s.html_safe %>, 0);
  memoryApplication.start();
</script>

<svg id="patterns" class="zero-height">
  <defs>
    <pattern id="dots" x="10" y="10" width="30" height="30" patternUnits="userSpaceOnUse">
      <circle cx="10" cy="10" r="10" style="stroke: none; fill: rgba(255,0,0,0.4)" />
    </pattern>
    <pattern id="points" x="10" y="10" width="15" height="15" patternUnits="userSpaceOnUse">
      <circle cx="10" cy="10" r="0.8" style="stroke: none; fill: red" />
    </pattern>
  </defs>
</svg>
